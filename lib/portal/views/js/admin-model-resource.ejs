angular.module('<%=model.module.resource%>', ['ngResource'])
  .factory('<%=model.name%>', function($http) {
    var temp = $resource('<%=model.route%>/:id', 
                          null, 
                          {
                            create: {
                              method: '<%=createVerb%>'
                            }
                          });

    function temp(){
    }

    temp.prototype.create = function(cb)
    {
      return temp.create({id: undefined}, angular.extend({}, this, {_id:undefined}), cb);
    };
    temp.prototype.resource = function(id, cb)
    {
      return $http.get('<%=model.route%>/'+id).success(cb);
    };
    temp.prototype.push = function(path, obj, cb)
    {
      return $http.<%=createVerb%>(path, obj, {headers: {'Content-Type': 'application/json'}}).success(cb);
    };
    temp.prototype.pop = function(path, cb)
    {
      return $http.delete(path).success(cb);
    };
    temp.prototype.set = function(path, data, cb)
    {
      return $http.<%=updateVerb%>(path, obj, {headers: {'Content-Type': 'text/plain'}}).success(cb);
    };
    temp.prototype.save = function(cb) {};

    return temp;
  });